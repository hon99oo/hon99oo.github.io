I"<h1 id="1-파일-시스템-구현">1. 파일 시스템 구현</h1>
<ul>
  <li><strong>vsfs(Very Simple File System)</strong>은 Unix 파일 시스템을 단순화한 것으로 디스크 자료구조(on-disk structure)와 접근 방법 그리고 다양한 파일 시스텤들의 정책들을 소개하기 위한 용도이다.</li>
  <li>파일 시스템은 순수한 소프트웨어이다.</li>
  <li>어떻게 간단한 파일 시스템을 만들 것인가
    <ul>
      <li>간단한 파일 시스템을 어떻게 만들 수 있을까?</li>
      <li>디스크 위에는 어떤 자료 구조가 필요할까?</li>
      <li>그러한 자료 구조는 어떤 정보를 추적해야 하는가?</li>
      <li>그 자료 구조들은 어떻게 접근되어야 하는가?</li>
    </ul>
  </li>
</ul>

<h1 id="11-생각하는-방법">1.1 생각하는 방법</h1>
<ul>
  <li>파일 시스템에 대해 학습할 때, 두 가지 측면에서 접근해야 한다.
    <ol>
      <li>파일 시스템의 <strong>자료 구조</strong>
        <ul>
          <li>파일 시스템이 자신의 데이터와 메타데이터를 관리하기 위해 디스크 상에 어떤 종류의 자료 구조가 있어야 하겠는가?</li>
        </ul>
      </li>
      <li><strong>접근 방법(access method)</strong>
        <ul>
          <li>프로세스가 호출하는 open(), read(), write() 등의 명령들은 파일 시스템의 자료 구조와 어떤 관련이 있는가?</li>
          <li>특정 시스템 콜을 실행할 때에 어떤 자료 구조들이 읽히는가?</li>
          <li>이 모든 과정이 얼마나 효율적으로 동작하는가?</li>
        </ul>
      </li>
    </ol>
  </li>
</ul>

<h1 id="12-전체-구성">1.2 전체 구성</h1>
<ul>
  <li>가장 먼저 해야 할 것은 디스크를 <strong>블럭(block)</strong>들로 나누는 것이다.</li>
</ul>

<p><img src="../../assets/img/ostep/18/img.png" width="80%" height="100%" /></p>

<ul>
  <li>파일 시스템의 대부분의 공간은 사용자 데이터로 이루어져 있다.</li>
  <li>사용자 데이터가 있는 디스크 공간을 <strong>데이터 영역(data region)</strong>이라고 하자.</li>
</ul>

<p><img src="../../assets/img/ostep/18/img_1.png" width="80%" height="100%" /></p>

<ul>
  <li>파일 시스템은 각 파일에 대한 정보를 관리한다.</li>
  <li>그 정보가 <strong>메타데이터(metadata)</strong>의 핵심이다.</li>
  <li>파일을 구성하는 데이터 블럭(데이터 영역 내의)들과 그 파일의 크기, 소유자, 접근 권한, 접근과 변경 시간 등과 같은 정보들이 이에 해당한다.</li>
  <li>파일 시스템은 이 정보를 보통 <strong>아이노드(inode)</strong>라고 부르는 자료 구조에 저장한다.</li>
  <li>아이노드들의 저장을 위해 디스크 공간이 필요하다.
    <ul>
      <li>이 영역을 <strong>아이노드 테이블(inode table)</strong>이라 한다.</li>
    </ul>
  </li>
</ul>

:ET
I"g<h1 id="chapter-09-가상메모리">Chapter 09. 가상메모리</h1>
<ul>
  <li>시스템의 프로세스들은 CPU와 메인 메모리를 다른 프로세스들과 공유한다.</li>
  <li>메모리를 보다 효율적이고 더 적은 에러를 갖도록 관리하기 위해서 현대의 시스템은 가상메모리 virtual memory VM 이라고 알려진 메인 메모리의 추상화를 제공한다.</li>
  <li>가상메모리는 각 프로세스에 하나의 크고 통합된, 사적 주소공간을 제공한다.</li>
  <li>가상 메모리의 중요한 세가지 기능
    <ol>
      <li>메인 메모리를 디스크에 저장된 주소공간에 대한 캐시로 취급해서 메인 메모리 내 활성화 영역만 유지하고, 데이터를 디스크와 메모리 간에 필요에 따라 전송하는 방법으로 메인 메모리를 효율적을 ㅗ사용</li>
      <li>각 프로세스에 주소공간을 제공함으로써 메모리 관리를 단순화한다.</li>
      <li>각 프로세스의 주소공간을 다른 프로세스에 의한 손상으로부터 보호한다.</li>
    </ol>
  </li>
</ul>

<blockquote>
  <p>가상 메모리를 이해하면 어떻게 시스템이 일반적으로 동작하는지 더 잘 이해할 수 있으며, 가상메모리의 강력한 성능을 응용프로그램에 적용할 수 있다. 또한 가상메모리는 
치명적인 에러를 발생시키는데 이를 방지할 수 있다.</p>
</blockquote>

<h1 id="91-물리-및-가상주소-방식">9.1 물리 및 가상주소 방식</h1>
<ul>
  <li>컴퓨터 시스템의 메인 메모리는 M개의 연속적인 바이트 크기 셀의 배열로 구성된다.</li>
  <li>각 바이트는 고유의 물리 주소(PA physical address)를 가진다.</li>
</ul>

<p><img src="../../assets/img/csapp/25/img.png" width="50%" height="100%" /></p>
<ul>
  <li>위의 그림은 <strong>물리 주소 방식</strong>이다.</li>
</ul>

<p><img src="../../assets/img/csapp/25/img_1.png" width="50%" height="100%" /></p>
<ul>
  <li>위의 그림은 <strong>가상주소방식</strong>이다.
    <ul>
      <li>CPU는 가상주소지정으로 가상주소(VA virtual address)를 생성해서 메인 메모리에 접근하다.</li>
      <li>가상주소를 물리 주소로 변환 하는 작업은 <strong>주소 번역</strong>이다.</li>
      <li>CPU 칩 내에 <strong>메모리 관리 유닛(MMU)</strong>를 사용해서 가상주소로 번역한다.</li>
    </ul>
  </li>
</ul>

<h1 id="92-주소공간">9.2 주소공간</h1>
<ul>
  <li>메인 메모리의 각 바이트는 가상 주소공간으로부터 선택된 가상주소를 가진다.</li>
</ul>

<h1 id="93-캐싱-도구로서의-vm">9.3 캐싱 도구로서의 VM</h1>
<ul>
  <li>가상메모리는 디스크에 저장된 N개의 바이트 크기의 셀 배열로 구성된다.</li>
  <li><strong>VM system</strong>은 가상메모리를 규정된 사이즈 블록 단위로 분할하여 관리한다.
    <ul>
      <li>분할된 블록들은 <strong>가상페이지</strong>라고 부른다.</li>
    </ul>
  </li>
  <li>가상페이지의 집합은 세 개의 중첩되지 않는 부분집합으로 나누어진다.
    <ul>
      <li>Unallocated: VM 시스템에 의해 아직까지 할당되지 않은 페이지들</li>
      <li>Cached: 현재 물리 메모리에 캐시되어 할당된 페이지들</li>
      <li>Uncached: 물리 메모리에 캐시되지 않은 할당된 페이지들</li>
    </ul>
  </li>
</ul>

<p><img src="../../assets/img/csapp/25/img_2.png" width="50%" height="100%" /></p>
<ul>
  <li>위의 그림은 여덟 개의 가상페이지를 갖는 작은 가상메모리를 보여준다.</li>
</ul>

:ET